<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic"><meta name=description content><link rel=alternate hreflang=en-us href=https://www.brainhack.org/global2021/project/project_98/><meta name=theme-color content="#66a49f"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin=anonymous async></script><link rel=stylesheet href=/global2021/css/academic.css><link rel=manifest href=/global2021/index.webmanifest><link rel=icon type=image/png href=/global2021/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/global2021/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_192x192_fill_lanczos_center_2.png><link rel=canonical href=https://www.brainhack.org/global2021/project/project_98/><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@brainhackorg"><meta property="twitter:creator" content="@brainhackorg"><meta property="og:site_name" content="Brainhack Global 2021"><meta property="og:url" content="https://www.brainhack.org/global2021/project/project_98/"><meta property="og:title" content="Data Driven Spiking Neural Network Optimization in Julia | Brainhack Global 2021"><meta property="og:description" content><meta property="og:image" content="https://www.brainhack.org/global2021/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_512x512_fill_lanczos_center_2.png"><meta property="twitter:image" content="https://www.brainhack.org/global2021/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_512x512_fill_lanczos_center_2.png"><meta property="og:locale" content="en-us"><meta property="article:modified_time" content="2021-11-26T08:13:32+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.brainhack.org/global2021/project/project_98/"},"headline":"Data Driven Spiking Neural Network Optimization in Julia","datePublished":"0001-01-01T00:00:00Z","dateModified":"2021-11-26T08:13:32Z","author":{"@type":"Person","name":"Authors"},"publisher":{"@type":"Organization","name":"Brainhack Global 2021","logo":{"@type":"ImageObject","url":"https://www.brainhack.org/global2021/images/icon_hu405768a2e56dba1817ce36477148a60d_2978_192x192_fill_lanczos_center_2.png"}},"description":""}</script><title>Data Driven Spiking Neural Network Optimization in Julia | Brainhack Global 2021</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><script>const isSiteThemeDark=false;</script><script src=/global2021/js/load-theme.js></script><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/global2021/>Brainhack Global 2021</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/global2021/>Brainhack Global 2021</a></div><div class="navbar-collapse main-menu-item collapse justify-content-center" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/global2021/><i class="fas fa-brain"></i><span>&nbsp; Home</span></a></li><li class=nav-item><a class=nav-link href=/global2021/events/><i class="fas fa-search-location"></i><span>&nbsp; Events</span></a></li><li class=nav-item><a class=nav-link href=/global2021/projects/><i class="fas fa-laptop"></i><span>&nbsp; Projects</span></a></li><li class=nav-item><a class=nav-link href=/global2021/gallery><i class="fas fa-brush"></i><span>&nbsp; Gallery</span></a></li><li class=nav-item><a class=nav-link href=/global2021/faq/><i class="fas fa-question"></i><span>&nbsp; FAQ</span></a></li><li class=nav-item><a class=nav-link href=https://brainhack.org/code-of-conduct target=_blank rel=noopener><span>Code of Conduct</span></a></li><li class=nav-item><a class=nav-link href=/global2021/#team><span>Team</span></a></li><li class=nav-item><a class=nav-link href=/global2021/#partner><span>Partners</span></a></li><li class=nav-item><a class=nav-link href=/global2021/#contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"></ul></div></nav><div class=pub><div class="article-container pt-3"><h1>Data Driven Spiking Neural Network Optimization in Julia</h1><div class=article-metadata><span class=article-date>Last updated on
Nov 26, 2021</span></div></div><div class=article-container><h3 id=title>Title</h3><p>Data-Driven Spiking Neural Network Optimization in Julia</p><h3 id=leaders>Leaders</h3><p>Russell Jarvis
@rjjarvis (mattermost)
@russelljjarvis (github)</p><h3 id=collaborators>Collaborators</h3><p>Seeking collaborators</p><h3 id=brainhack-global-2021-event>Brainhack Global 2021 Event</h3><p>Brainhack Australasia</p><h3 id=project-description>Project Description</h3><h3 id=what-are-you-doing-for-whom-and-why>What are you doing, for whom, and why?</h3><ul><li><p>The project is for everyone who wants to try to do data fitting of neuron models <strong>without</strong> Python+external simulation tools. The project is for people who have been <strong>frustrated</strong> by writing support code in Python for externally supported simulator tools, and who would like to see efficient cellular and network data fitting happening all inside one language.</p></li><li><p>The project intends to consolidate neural electro-physiology tools and support that have existed in Julia for a while by applying tools by example.</p></li></ul><h3 id=what-makes-your-project-special-and-exciting>What makes your project special and exciting?</h3><p>It has a basis in Julia-lang which might be novel and exciting for many people, yet, the scope of the project is meta-package, meaning that many of the goals of the project are beginner-friendly.</p><h3 id=how-to-get-started>How to get started?</h3><p><code>git clone https://github.com/russelljjarvis/SpikeNetOpt.jl</code></p><p>Data fitting a spiking neural network by exploring the effect of the parameter that controls connectome graph structure:</p><pre><code>cd examples
julia sdo_network.jl
</code></pre><p>Single cell data fitting against spike times:</p><pre><code>cd test
julia single_cell_opt_adexp.jl 
julia single_cell_opt_izhi.jl
</code></pre><h3 id=where-to-find-key-resources>Where to find key resources?</h3><h3 id=link-to-project-repositorysources>Link to project repository/sources</h3><p><a href=https://github.com/russelljjarvis/SpikeNetOpt.jl>https://github.com/russelljjarvis/SpikeNetOpt.jl</a></p><h3 id=goals-for-brainhack-global>Goals for Brainhack Global</h3><ul><li>Refactor optimizer design from bespoke specific examples to a general user interface.</li><li>Benchmarking of three different Julia Spiking Neural Network backend simulator speeds.</li><li>eliminate global variables and untyped variables.</li></ul><h3 id=good-first-issues>Good first issues</h3><ol><li>Most fun issue: Benchmark execution speed and memory consumption for similar-sized networks on the same network models, for different Julia SNN backends.
These three approaches need to openly be battled out, against each other for execution speed and memory efficiency.</li></ol><ul><li><a href=https://github.com/AStupidBear/SpikingNeuralNetworks.jl>https://github.com/AStupidBear/SpikingNeuralNetworks.jl</a></li><li><a href=https://github.com/leaflabs/WaspNet.jl>https://github.com/leaflabs/WaspNet.jl</a></li><li><a href=https://github.com/darsnack/SpikingNN.jl>https://github.com/darsnack/SpikingNN.jl</a></li></ul><ol start=2><li><p><a href=https://github.com/russelljjarvis/SpikeNetOpt.jl/issues/3>Make package installable via Project.toml, etc.</a></p></li><li><p>Refactor optimizer design from bespoke specific examples to a general user interface.</p></li><li><p>Make scatter plot animation of optimizer succeeding.</p></li><li><p>Use existing Python/BluePyOpt code to draw the GA evaluated error surface.</p></li></ol><p>Properly cite this code and borrow from BPO /notebook here:
<a href=https://github.com/BlueBrain/BluePyOpt/blob/master/examples/simplecell/simplecell-paperfig.ipynb>https://github.com/BlueBrain/BluePyOpt/blob/master/examples/simplecell/simplecell-paperfig.ipynb</a>
Python code Cell 26 draws the error surface.</p><ol start=6><li>Convert Python Sciunit relative difference score to Julia relative difference score.</li></ol><p>Sciunit scoring has tools, for scaling and normalizing feature measurements, some of these are trivial and some are elaborate.
<a href=https://github.com/scidash/sciunit/blob/master/sciunit/scores/complete.py#L247-L329>https://github.com/scidash/sciunit/blob/master/sciunit/scores/complete.py#L247-L329</a></p><p>Implement in Julia sciunits RelativeDifferenceScore, naming convention, and implementation. Note Julia is not Object orientated, so skip over Python&rsquo;s inheritance, if it seems necessary to use a container use Julia struct. It might be helpful to re-implement multiple sciunit scores in Julia, but the most immediately useful one is RelativeDifferenceScore</p><h3 id=communication-channels>Communication channels</h3><p><a href=https://mattermost.brainhack.org/brainhack/channels/spikenetoptjl>https://mattermost.brainhack.org/brainhack/channels/spikenetoptjl</a></p><h3 id=skills>Skills</h3><ul><li>git push/pull</li><li>git commit</li><li>git PR</li><li>A desire to learn Julia (but with pre-existing programming knowledge)</li></ul><h3 id=onboarding-documentation>Onboarding documentation</h3><p>I will create a contributing.md in the interim.</p><h3 id=what-will-participants-learn>What will participants learn?</h3><ul><li>Julia package management of projects.</li><li>Julia structs</li><li>Julia multiple dispatch</li><li>Julia typing</li></ul><h3 id=data-to-use>Data to use</h3><p>At the moment single-cell model fitting occurs on Allen Brain Observatory data (these are cached in JLD files), I have written a Python API included in the Julia code repository (python is called from Julia).</p><p>This project would really benefit from experimental multicellular spike train data.</p><p><a href=https://observatory.brain-map.org/visualcoding/sdk/index>https://observatory.brain-map.org/visualcoding/sdk/index</a></p><h3 id=number-of-collaborators>Number of collaborators</h3><p>5</p><h3 id=credit-to-collaborators>Credit to collaborators</h3><p>I have started using the all contributors tool which makes all contributions to the repository visible (including raising issues via GitHub, or even ideas conveyed outside of GitHub). Also, I can write a reference letter for substantive contribution.</p><p><a href=#contributors-><img src="https://img.shields.io/badge/all_contributors-1-orange.svg?style=flat-square" alt="All Contributors"></a></p><h3 id=image>Image</h3><p><a href=https://user-images.githubusercontent.com/7786645/142357325-60ffea1c-5ef1-4553-a392-7530792cfba0.png>https://user-images.githubusercontent.com/7786645/142357325-60ffea1c-5ef1-4553-a392-7530792cfba0.png</a></p><p><img src=https://user-images.githubusercontent.com/7786645/142357325-60ffea1c-5ef1-4553-a392-7530792cfba0.png alt=python_environment></p><p>Why Julia? Python package management is already complicated, reproducible model optimization is made worse by combining Python with external simulators.</p><p>Image source: <a href=https://xkcd.com/1987/>https://xkcd.com/1987/</a></p><h3 id=type>Type</h3><p>coding_methods, documentation, method_development, visualization</p><h3 id=development-status>Development status</h3><p>1_basic structure</p><h3 id=topic>Topic</h3><p>data_visualisation, neural_networks, reproducible_scientific_methods, single_neuron_models, other</p><h3 id=tools>Tools</h3><p>Python space:
NetworkUnit, NeuronDataWithoutBorders, Neo Analog Signal. (note to be pragmatic, this project still uses some Python)</p><p>Julia space:
ClearStacktrace.jl (makes error messages much easier to read)
SignalAnalysis.jl, Evolutionary.jl, SpikingNeuralNetworks.jl, SpikeSynchrony.jl, PyCall.jl</p><h3 id=programming-language>Programming language</h3><p>Julia, Python.</p><h3 id=modalities>Modalities</h3><p>other</p><h3 id=git-skills>Git skills</h3><p>0_no_git_skills, 1_commit_push, 2_branches_PRs, 3_continuous_integration</p><h3 id=anything-else>Anything else?</h3><p>Although some Python is used to corroborate/validate optimized models, crucially no Python is used in the optimization loops, as calling Python with PyCall is not fast.</p><h3 id=things-to-do-after-the-project-is-submitted>Things to do after the project is submitted.</h3><h1 id=twitter-sized-summary>Twitter sized summary</h1><p>Julia has enough tools to support fitting spiking neural network models to data. Python speed necessitates external simulators to do network simulation. It would be more developer-friendly to do fast, efficient data fitting of spike trains to network models in one language, let us try to do that here.</p><br><div class=row><div class=col-md-1></div><div class=col-md-10><div class=row><div class="col-12 col-md-3 pub-row-heading">Date</div><div class="col-12 col-md-9">Jan 1, 0001 12:00 AM</div></div></div><div class=col-md-1></div></div><div class="d-md-none space-below"></div><div class=space-below></div><div class=article-style></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/latex.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin=anonymous></script><script>const code_highlighting=true;</script><script src=/global2021/js/wowchemy.min.4ac3ddfd2d70fc253ec0392345ae4750.js></script><div class=container><footer class=site-footer><p class=powered-by>Â© Brainhack Global 2021</p><p style=width:80%;padding-left:10%>Images (and their credits) provided by <a href=https://ohbm-brainart.github.io/ target=_blank>the brain art special interest group</a>
of the <a href=https://www.humanbrainmapping.org target=_blank>organization for human brain mapping</a>
can be viewed on <a href=TODO>our gallery page</a>.</p><p class=powered-by>Adapted from the <a href=https://wowchemy.com target=_blank rel=noopener>Wowchemy</a> template.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>